<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<link href="../favicon.ico"  rel="icon" type="image/x-icon" />
<style>
	ul{width:200px;margin-left:20px;float:left;}
	ul li{list-style:none;}
</style>
<script>
	function rnd(n,m){
		return parseInt(Math.random()*(m-n))+n;	
	}
	function createLi(){
		var aLi=document.createElement('li');
		aLi.style.width='200px';
		aLi.style.height=rnd(50,400)+'px';
		aLi.style.background='rgb('+rnd(1,256)+','+rnd(1,256)+','+rnd(1,256)+')'
		return aLi
	
	}
	
	window.onload=function(){
		var aUl=document.getElementsByTagName('ul');
		function create20(){
			for(var i=0; i<20; i++){
				var oLi=createLi()
				var arr=[];
				for(var j=0; j<aUl.length;j++){
					arr.push(aUl[j])
				
				}
				arr.sort(function(ul1,ul2){
					return ul1.offsetHeight-ul2.offsetHeight	
				});
				arr[0].appendChild(oLi)
			}	
		}
		
		create20();
		
		window.onresize=window.onscroll=function(){
			var sTop=document.documentElement.scrollTop || document.body.scrollTop;
			var sH=document.documentElement.clientHeight;
			var sBottom=sTop+sH;
			var oH=document.documentElement.scrollHeight;
			if(sBottom>=oH-400){
				create20();	
			}	
		}
	
	}
</script>
</head>

<body>
	<ul id="ul1"></ul>
    <ul id="ul2"></ul>
    <ul id="ul3"></ul>

</body>
</html>
